# TDAC Message
This is the format of the output messages generated by the Texas A&M University (TAMU) Dialog Act Classifier (DAC) server.


## Message Bus Publication
This message is created upon receiving an Automated Speech Recognition (ASR) message on the Message Bus, and is published on topic:
```
agent/dialog_act_classifier
```

## Fields
Field Name              | Type   | Description
---                     | ---    | ---
header.timestamp | string | Time of processing by Dialog Agent, in ISO 8601 format: YYYY-MM-DDTHH:MM:SS.SSSZ
header.message_type | string | Message type.  Hardcoded to "**agent**"
header.version | string | The version of the Testbed.  Follows trial.header.version, or "**1.0**" if no trial. 
msg.experiment_id | string | The experiment id of the current trial, if a trial has started, else not included
msg.trial_id | string | The id of the current trial, if a trial has started, else not included
msg.timestamp | string | Same as header.timestamp
msg.source | string | The name of this agent. Hardcoded to "**dialog_act_classifier**"
msg.sub_type | string | The subtype of the data.  Hardcoded to "**dialog_act_label**"
msg.version | string | The version of this agent.
msg.replay_parent_type | string | Copied from subscribed msg if present, else not included.
msg.replay_id | string | Copied from subscribed msg if present, else not included.
data.asr_msg_id | string | Copied from subscribed ASR message.data.id.
data.label | string | Generated by the TAMU DAC server from the subscribed ASR message.data.txt


## Example
```json
{
  "data": {
    "label": "Statement",
    "asr_msg_id": "2c4fc7d0-9309-4740-a35f-5eacc53eb8ed"
  },
  "header": {
    "message_type": "agent",
    "timestamp": "2022-06-15T21:10:52.1913Z",
    "version": "0.1"
  },
  "msg": {
    "source": "dialog_act_classifier",
    "sub_type": "dialog_act_label",
    "timestamp": "2022-06-15T21:10:52.1913Z",
    "version": "1.0.0",
    "experiment_id": "f1ddcf84-86e8-4698-86a5-ee75645087b2",
    "trial_id": "362b9bfa-27b9-453b-a4fc-4e55f6a3a444"
  }
}
```
